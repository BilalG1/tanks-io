(function(e){function n(n){for(var o,i,c=n[0],u=n[1],l=n[2],s=0,m=[];s<c.length;s++)i=c[s],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);d&&d(n);while(m.length)m.shift()();return r.push.apply(r,l||[]),t()}function t(){for(var e,n=0;n<r.length;n++){for(var t=r[n],o=!0,c=1;c<t.length;c++){var u=t[c];0!==a[u]&&(o=!1)}o&&(r.splice(n--,1),e=i(i.s=t[0]))}return e}var o={},a={app:0},r=[];function i(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=o,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)i.d(t,o,function(n){return e[n]}.bind(null,o));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=n,c=c.slice();for(var l=0;l<c.length;l++)n(c[l]);var d=u;r.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"0313":function(e,n,t){"use strict";t("46d1")},"46d1":function(e,n,t){},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var o=t("7a23"),a={key:0,class:"text-right mx-auto max-w-sm w-3/4"},r={key:1};function i(e,n,t,i,c,u){var l=Object(o["g"])("Game");return c.gameActive?(Object(o["f"])(),Object(o["c"])("div",r,[Object(o["e"])(l,{class:"mx-auto",ref:"Game",onUnknownGame:u.handleUnknown,onTooManyPlayers:u.handleTooMany},null,8,["onUnknownGame","onTooManyPlayers"])])):(Object(o["f"])(),Object(o["c"])("div",a,[Object(o["d"])("button",{onClick:n[0]||(n[0]=function(){return u.newGame&&u.newGame.apply(u,arguments)}),class:"bg-green-500 hover:bg-green-400 my-5 p-2 text-white rounded-xl font-bold"}," Create Game "),Object(o["d"])("div",null,[Object(o["j"])(Object(o["d"])("input",{"onUpdate:modelValue":n[1]||(n[1]=function(e){return c.gameCode=e}),class:"border-black border-2 p-1 mx-1 rounded-lg",placeholder:"Game Code"},null,512),[[o["i"],c.gameCode]]),Object(o["d"])("button",{onClick:n[2]||(n[2]=function(){return u.joinGame&&u.joinGame.apply(u,arguments)}),class:"bg-green-500 hover:bg-green-400 my-5 p-2 text-white rounded-xl font-bold"}," Join Game ")])]))}var c=Object(o["d"])("canvas",{id:"canvas"},null,-1),u={key:0,class:"my-2"};function l(e,n,t,a,r,i){return Object(o["f"])(),Object(o["c"])("div",null,[c,r.gameCode?(Object(o["f"])(),Object(o["c"])("div",u,Object(o["h"])("Game Code: "+r.gameCode),1)):Object(o["b"])("",!0)])}var d,s,m=t("b85c"),f=(t("cb29"),t("daa8")),y="#F0F0F0",p=Object(f["a"])("https://tanks-socket.herokuapp.com/"),h={data:function(){return{lastKeyDown:0,lastKeyTime:0,playerNumber:0,gameCode:""}},mounted:function(){var e=this;d=document.getElementById("canvas"),s=d.getContext("2d"),d.width=d.height=500,p.on("init",(function(n){return e.playerNumber=n})),p.on("gamecode",(function(n){return e.gameCode=n})),p.on("unknownGame",(function(){return e.handleUnknownGame})),p.on("tooManyPlayers",(function(){return e.handleTooManyPlayers})),p.on("gameState",(function(n){return e.handleGameState(n)}))},methods:{newGame:function(){p.emit("newGame"),document.addEventListener("keydown",this.keydown),document.addEventListener("keyup",this.keyup)},joinGame:function(e){p.emit("joinGame",e),document.addEventListener("keydown",this.keydown),document.addEventListener("keyup",this.keyup)},handleUnknownGame:function(){this.$emit("unknownGame")},handleTooManyPlayers:function(){this.$emit("tooManyPlayers")},drawGame:function(e){s.fillStyle=y,s.fillRect(0,0,d.width,d.height);var n,t=Object(m["a"])(e.players);try{for(t.s();!(n=t.n()).done;){var o=n.value;this.drawPlayer(o)}}catch(c){t.e(c)}finally{t.f()}var a,r=Object(m["a"])(e.bullets);try{for(r.s();!(a=r.n()).done;){var i=a.value;this.drawBullet(i)}}catch(c){r.e(c)}finally{r.f()}},drawPlayer:function(e){var n=30;s.fillStyle="blue",s.beginPath(),s.arc(e.pos.x,e.pos.y,n,0,2*Math.PI),s.fill(),s.strokeStyle="red",s.lineWidth="6",s.beginPath(),s.moveTo(e.pos.x,e.pos.y),s.lineTo(e.pos.x+n*Math.cos(e.dir),e.pos.y+n*Math.sin(e.dir)),s.closePath(),s.stroke()},drawBullet:function(e){var n=5;s.fillStyle="black",s.beginPath(),s.arc(e.pos.x,e.pos.y,n,0,2*Math.PI),s.fill()},handleGameState:function(e){var n=this;e=JSON.parse(e),requestAnimationFrame((function(){return n.drawGame(e)}))},keydown:function(e){p.emit("keydown",e.keyCode)},keyup:function(e){p.emit("keyup",e.keyCode)}}},b=t("6b0d"),v=t.n(b);const g=v()(h,[["render",l]]);var w=g,j={name:"App",components:{Game:w},data:function(){return{gameActive:!1,gameCode:""}},methods:{newGame:function(){var e=this;this.gameActive||(this.gameActive=!0,setTimeout((function(){return e.$refs.Game.newGame()}),100))},joinGame:function(){var e=this;console.log(this.gameCode),this.gameActive=!0,setTimeout((function(){return e.$refs.Game.joinGame(e.gameCode)}),100)},handleUnknown:function(){this.gameActive=!1,alert("Invalid Game Code")},handleTooMany:function(){this.gameActive=!1,alert("too many players currently in game")}}};t("0313");const k=v()(j,[["render",i]]);var O=k;t("a766");Object(o["a"])(O).mount("#app")},a766:function(e,n,t){}});
//# sourceMappingURL=app.db9b352e.js.map